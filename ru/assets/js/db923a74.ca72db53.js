"use strict";(self.webpackChunkavalonia_docs=self.webpackChunkavalonia_docs||[]).push([[4413],{53089:(e,n,i)=>{i.r(n),i.d(n,{assets:()=>d,contentTitle:()=>r,default:()=>m,frontMatter:()=>l,metadata:()=>t,toc:()=>c});const t=JSON.parse('{"id":"basics/user-interface/code-behind","title":"Code-behind","description":"In addition to a XAML file, most Avalonia controls also have a code-behind file that is commonly written in C#. The code-behind file by convention has the file extension .axaml.cs and is often displayed nested below the XAML file in your IDE.","source":"@site/docs/basics/user-interface/code-behind.md","sourceDirName":"basics/user-interface","slug":"/basics/user-interface/code-behind","permalink":"/ru/docs/basics/user-interface/code-behind","draft":false,"unlisted":false,"editUrl":"https://github.com/AvaloniaUI/avalonia-docs/tree/main/docs/basics/user-interface/code-behind.md","tags":[],"version":"current","lastUpdatedBy":"202420505","lastUpdatedAt":1755588461000,"frontMatter":{"id":"code-behind","title":"Code-behind"},"sidebar":"documentationSidebar","previous":{"title":"Avalonia XAML","permalink":"/ru/docs/basics/user-interface/introduction-to-xaml"},"next":{"title":"Controls","permalink":"/ru/docs/basics/user-interface/controls/"}}');var a=i(74848),o=i(28453);const s="data:image/png;base64,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",l={id:"code-behind",title:"Code-behind"},r="Code-behind",d={},c=[{value:"Locating Controls",id:"locating-controls",level:2},{value:"Set Properties",id:"set-properties",level:2},{value:"Handling Events",id:"handling-events",level:2}];function h(e){const n={a:"a",admonition:"admonition",code:"code",em:"em",h1:"h1",h2:"h2",header:"header",p:"p",pre:"pre",...(0,o.R)(),...e.components};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(n.header,{children:(0,a.jsx)(n.h1,{id:"code-behind",children:"Code-behind"})}),"\n",(0,a.jsxs)(n.p,{children:["In addition to a XAML file, most Avalonia controls also have a ",(0,a.jsx)(n.em,{children:"code-behind"})," file that is commonly written in C#. The code-behind file by convention has the file extension ",(0,a.jsx)(n.code,{children:".axaml.cs"})," and is often displayed nested below the XAML file in your IDE."]}),"\n",(0,a.jsxs)(n.p,{children:["For instance, in the Visual Studio solution explorer, you can see a ",(0,a.jsx)(n.code,{children:"MainWindow.axaml"})," file along with its code-behind file ",(0,a.jsx)(n.code,{children:"MainWindow.axaml.cs"}),":"]}),"\n",(0,a.jsx)("p",{children:(0,a.jsx)("img",{src:s,className:"medium-zoom-image"})}),"\n",(0,a.jsx)(n.p,{children:"The code-behind file contains a class that shares the same name as the XAML file. For example:"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-csharp",metastring:"title='MainWindow.axaml.cs'",children:"using Avalonia.Controls;\n\nnamespace AvaloniaApplication1.Views\n{\n    public partial class MainWindow : Window\n    {\n        public MainWindow()\n        {\n            InitializeComponent();\n        }\n    }\n}\n"})}),"\n",(0,a.jsxs)(n.p,{children:["Notice that the class name matches the name of the XAML file, and is also referenced in the ",(0,a.jsx)(n.code,{children:"x:Class"})," attribute of the window element."]}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-xml",metastring:"title='MainWindow.axaml'",children:'<Window xmlns="https://github.com/avaloniaui"\n        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"\n        // highlight-next-line\n        x:Class="AvaloniaApplication1.Views.MainWindow">\n  ...\n</Window>\n'})}),"\n",(0,a.jsx)(n.admonition,{type:"tip",children:(0,a.jsxs)(n.p,{children:["If you make any changes to the class name in code, or its namespace, ensure that the  ",(0,a.jsx)(n.code,{children:"x:Class"})," attribute always matches, or you will get an error."]})}),"\n",(0,a.jsxs)(n.p,{children:["When the code-behind file is first added, it has only a constructor, which calls the  ",(0,a.jsx)(n.code,{children:"InitializeComponent()"})," method. This method call is required to load the XAML at runtime."]}),"\n",(0,a.jsx)(n.h2,{id:"locating-controls",children:"Locating Controls"}),"\n",(0,a.jsx)(n.p,{children:"When working with code-behind, you often need to access the controls defined in XAML."}),"\n",(0,a.jsxs)(n.p,{children:["To do this, you first need to obtain a reference to the desired control. Give the control a name using the ",(0,a.jsx)(n.code,{children:"Name"})," (or ",(0,a.jsx)(n.code,{children:"x:Name"}),") attribute in XAML."]}),"\n",(0,a.jsx)(n.p,{children:"Here's an example of a XAML file with a named button:"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-xml",metastring:"title='MainWindow.axaml'",children:'<Window xmlns="https://github.com/avaloniaui"\n        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"\n        x:Class="AvaloniaApplication5.MainWindow">\n  // highlight-next-line\n  <Button Name="greetingButton">Hello World</Button>\n</Window>\n'})}),"\n",(0,a.jsxs)(n.p,{children:["You can now access the button via an auto-generated ",(0,a.jsx)(n.code,{children:"greetingButton"})," field from the code-behind:"]}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-csharp",metastring:"title='MainWindow.axaml.cs'",children:'using Avalonia.Controls;\n\nnamespace AvaloniaApplication1.Views\n{\n    public partial class MainWindow : Window\n    {\n        public MainWindow()\n        {\n            InitializeComponent();\n            // highlight-next-line\n            greetingButton.Content = "Goodbye Cruel World!";\n        }\n    }\n}\n'})}),"\n",(0,a.jsx)(n.h2,{id:"set-properties",children:"Set Properties"}),"\n",(0,a.jsx)(n.p,{children:"With the control reference available in the code-behind, you can set properties. For example, you can change the background property like this:"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-csharp",metastring:"title='C#'",children:"greetingButton.Background = Brushes.Blue;\n"})}),"\n",(0,a.jsx)(n.h2,{id:"handling-events",children:"Handling Events"}),"\n",(0,a.jsx)(n.p,{children:"Any useful application will require you to implement some action! When using the code-behind pattern, you write event handlers in the code-behind file."}),"\n",(0,a.jsx)(n.p,{children:"Event handlers are written as methods in the code-behind file, and then referenced in the XAML using an event attribute. For example, to add a handler for a button click event:"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-xml",metastring:"title='MainWindow.axaml'",children:'<Window xmlns="https://github.com/avaloniaui"\n        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"\n        x:Class="AvaloniaApplication4.MainWindow">\n  <Button Click="GreetingButtonClickHandler">Hello World</Button>\n</Window>\n'})}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-csharp",metastring:"title='MainWindow.axaml.cs'",children:"public partial class MainWindow : Window\n{\n    public MainWindow()\n    {\n        InitializeComponent();\n    }\n\n    public void GreetingButtonClickHandler(object sender, RoutedEventArgs e)\n    {\n        // code here.\n    }\n}\n"})}),"\n",(0,a.jsxs)(n.p,{children:["Note that many Avalonia event handlers pass a special argument of class ",(0,a.jsx)(n.code,{children:"RoutedEventArgs"}),". This includes information about how the event has been generated and propagated."]}),"\n",(0,a.jsx)(n.admonition,{type:"info",children:(0,a.jsxs)(n.p,{children:["For more information on the concepts of event routing, see ",(0,a.jsx)(n.a,{href:"/ru/docs/concepts/input/routed-events",children:"here"}),"."]})})]})}function m(e={}){const{wrapper:n}={...(0,o.R)(),...e.components};return n?(0,a.jsx)(n,{...e,children:(0,a.jsx)(h,{...e})}):h(e)}},28453:(e,n,i)=>{i.d(n,{R:()=>s,x:()=>l});var t=i(96540);const a={},o=t.createContext(a);function s(e){const n=t.useContext(o);return t.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function l(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(a):e.components||a:s(e.components),t.createElement(o.Provider,{value:n},e.children)}}}]);