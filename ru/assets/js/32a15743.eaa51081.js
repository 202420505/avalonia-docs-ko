"use strict";(self.webpackChunkavalonia_docs=self.webpackChunkavalonia_docs||[]).push([[8881],{44097:(e,i,n)=>{n.r(i),n.d(i,{assets:()=>d,contentTitle:()=>t,default:()=>h,frontMatter:()=>o,metadata:()=>l,toc:()=>a});const l=JSON.parse('{"id":"release-notes","title":"Release Notes","description":"XPF 1.5.3","source":"@site/xpf/release-notes.md","sourceDirName":".","slug":"/release-notes","permalink":"/ru/xpf/release-notes","draft":false,"unlisted":false,"editUrl":"https://github.com/AvaloniaUI/avalonia-docs/tree/main/xpf/release-notes.md","tags":[],"version":"current","frontMatter":{"id":"release-notes","title":"Release Notes"},"sidebar":"documentationSidebar","previous":{"title":"Troubleshooting","permalink":"/ru/xpf/troubleshooting"}}');var s=n(74848),r=n(28453);const o={id:"release-notes",title:"Release Notes"},t=void 0,d={},a=[{value:"XPF 1.5.3",id:"xpf-153",level:2},{value:"XPF 1.5.2",id:"xpf-152",level:2},{value:"XPF 1.5.1",id:"xpf-151",level:2},{value:"XPF 1.5.0",id:"xpf-150",level:2},{value:"XPF 1.4.0",id:"xpf-140",level:2},{value:"XPF 1.3.0",id:"xpf-130",level:2},{value:"XPF 1.2.0",id:"xpf-120",level:2},{value:"Known Issues",id:"known-issues",level:3}];function c(e){const i={code:"code",h2:"h2",h3:"h3",li:"li",ul:"ul",...(0,r.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(i.h2,{id:"xpf-153",children:"XPF 1.5.3"}),"\n",(0,s.jsxs)(i.ul,{children:["\n",(0,s.jsx)(i.li,{children:"Fix MediaContext to use Stopwatch instead of system clock"}),"\n",(0,s.jsx)(i.li,{children:"Adjust WinForms MessageBoxTheme"}),"\n",(0,s.jsx)(i.li,{children:"Enforce WPF LineSpacing"}),"\n"]}),"\n",(0,s.jsx)(i.h2,{id:"xpf-152",children:"XPF 1.5.2"}),"\n",(0,s.jsxs)(i.ul,{children:["\n",(0,s.jsx)(i.li,{children:"Limit the width of a MessageBox to 400px to closely follow the WIN32 behavior"}),"\n",(0,s.jsx)(i.li,{children:"Limit the MessageBox to 80% of the current screen's height"}),"\n",(0,s.jsx)(i.li,{children:"Update Avalonia to stable 11.3.1"}),"\n"]}),"\n",(0,s.jsx)(i.h2,{id:"xpf-151",children:"XPF 1.5.1"}),"\n",(0,s.jsxs)(i.ul,{children:["\n",(0,s.jsx)(i.li,{children:"Change VB MsgBox default title to be identical to Windows"}),"\n"]}),"\n",(0,s.jsx)(i.h2,{id:"xpf-150",children:"XPF 1.5.0"}),"\n",(0,s.jsxs)(i.ul,{children:["\n",(0,s.jsx)(i.li,{children:"Apply TextAlignment to overflowed AVTextLine"}),"\n",(0,s.jsx)(i.li,{children:"BmpBitmapDecoderHandle - support 1-Bit BMP"}),"\n",(0,s.jsx)(i.li,{children:"Fix Window.Closing event not being fired in certain situations"}),"\n",(0,s.jsx)(i.li,{children:"Fix ImageBrush being broken when used as opacity mask"}),"\n",(0,s.jsx)(i.li,{children:"Fix radial gradient and dash array rendering"}),"\n",(0,s.jsx)(i.li,{children:"Fix hiding/showing dialogs."}),"\n",(0,s.jsx)(i.li,{children:"Set dialog task to complete when dialog is hidden"}),"\n",(0,s.jsx)(i.li,{children:"Constrain subtree content bounds by the clip bounds"}),"\n",(0,s.jsx)(i.li,{children:"Fix crash in file dialog when no filename is specified"}),"\n",(0,s.jsx)(i.li,{children:"Make sure draw rounded rectangle is executed with valid radii"}),"\n",(0,s.jsx)(i.li,{children:"Alternative menu capture fix"}),"\n",(0,s.jsx)(i.li,{children:"Use first monitor if no primary"}),"\n",(0,s.jsx)(i.li,{children:"Fix AvalonEdit completion window crash"}),"\n",(0,s.jsx)(i.li,{children:"Add support for FontFamily.FamilyTypefaces"}),"\n",(0,s.jsx)(i.li,{children:"Implemented SetCursorPos API shim"}),"\n",(0,s.jsx)(i.li,{children:"Improve bitmap performance"}),"\n",(0,s.jsx)(i.li,{children:"Invoke MediaContext update handler via BeginInvokeOnRender"}),"\n",(0,s.jsx)(i.li,{children:"Remove native calls in ribbon control"}),"\n",(0,s.jsx)(i.li,{children:"Fix win32 shims on x86"}),"\n",(0,s.jsx)(i.li,{children:"Added logging for APISHIM calls"}),"\n",(0,s.jsx)(i.li,{children:"File ok handling"}),"\n",(0,s.jsx)(i.li,{children:"Update System.IO.Packaging to 6.0.2"}),"\n",(0,s.jsx)(i.li,{children:"Make sure the paragraphWidth is rounded up"}),"\n",(0,s.jsx)(i.li,{children:"Add support for VB MsgBox function"}),"\n",(0,s.jsxs)(i.li,{children:["Add support for VB ",(0,s.jsx)(i.code,{children:"InputBox"}),"."]}),"\n",(0,s.jsx)(i.li,{children:"Fix Border Position of RichTextBox"}),"\n",(0,s.jsx)(i.li,{children:"Fix crash when XpfContain detached from tree"}),"\n",(0,s.jsx)(i.li,{children:"Handle Case for 8bpp Bitmaps"}),"\n",(0,s.jsx)(i.li,{children:"Rework font loading"}),"\n",(0,s.jsx)(i.li,{children:"Handle RectangleNode with zero height"}),"\n",(0,s.jsx)(i.li,{children:"Fix Font Metrics Rounding Error"}),"\n",(0,s.jsx)(i.li,{children:"Fix frame decode finalize"}),"\n",(0,s.jsx)(i.li,{children:"Fix PngBitmapDecoder alpha channel"}),"\n",(0,s.jsx)(i.li,{children:"Do not share the same FontMetrics between Font and FontFamily"}),"\n",(0,s.jsx)(i.li,{children:"Handle duplicate fonts when loading font collections"}),"\n",(0,s.jsx)(i.li,{children:"Fix custom font face simulation"}),"\n",(0,s.jsx)(i.li,{children:"Ensure localized font strings are mapped to available cultures"}),"\n",(0,s.jsx)(i.li,{children:"Simplify target pixel format for decoded bitmap data"}),"\n",(0,s.jsx)(i.li,{children:"Allow showing popups without placement target."}),"\n",(0,s.jsx)(i.li,{children:"Add support for indexed bitmap sources"}),"\n",(0,s.jsx)(i.li,{children:"Implement OpenFolderDialog"}),"\n",(0,s.jsxs)(i.li,{children:["Don't call win32 ",(0,s.jsx)(i.code,{children:"GetCursorPos"})," in ",(0,s.jsx)(i.code,{children:"Popup"}),"."]}),"\n"]}),"\n",(0,s.jsx)(i.h2,{id:"xpf-140",children:"XPF 1.4.0"}),"\n",(0,s.jsxs)(i.ul,{children:["\n",(0,s.jsx)(i.li,{children:"Remove System.Configuration.ConfigurationManager usages"}),"\n",(0,s.jsx)(i.li,{children:"Fix ModifierKeys.MacControl value"}),"\n",(0,s.jsx)(i.li,{children:"Replace WebRequest/WebResponse base ctor calls with RuntimeHelpers.GetUninitializedObject + Frame control fixes"}),"\n",(0,s.jsx)(i.li,{children:"Fix key remapping exception"}),"\n",(0,s.jsx)(i.li,{children:"Reset modifier keys on lost focus"}),"\n",(0,s.jsx)(i.li,{children:"Simple 3d support"}),"\n",(0,s.jsx)(i.li,{children:"Fix Paragraph TextAlignment"}),"\n",(0,s.jsx)(i.li,{children:"Fix compilation error in MuceViewport3DVisual"}),"\n",(0,s.jsx)(i.li,{children:"Add GetAvaloniaTopLevelForWindow"}),"\n",(0,s.jsx)(i.li,{children:"Window frame for single-view platforms like browser"}),"\n",(0,s.jsx)(i.li,{children:"Resizable single view windows, fix decorations"}),"\n",(0,s.jsx)(i.li,{children:"Implemented online licensing tickets"}),"\n",(0,s.jsx)(i.li,{children:"Include remaining platforms in License check"}),"\n",(0,s.jsx)(i.li,{children:"Fix avalon dock resizing issue"}),"\n",(0,s.jsx)(i.li,{children:"Fix lower right corner cursor"}),"\n",(0,s.jsx)(i.li,{children:"Replace binary formatter"}),"\n",(0,s.jsx)(i.li,{children:"Stub ShowSystemMenu"}),"\n",(0,s.jsx)(i.li,{children:"Fix DragOver exposing already disposed IDataObject"}),"\n",(0,s.jsx)(i.li,{children:"Do not crash when path simplification fails"}),"\n",(0,s.jsx)(i.li,{children:"Added ScreenToClient win32 API shim."}),"\n",(0,s.jsx)(i.li,{children:"Fix XPF popups when embedded in Avalonia."}),"\n",(0,s.jsx)(i.li,{children:"Use OpenGL by default on macOS"}),"\n",(0,s.jsx)(i.li,{children:"Implement JpegMetadata and allow reading the orientation"}),"\n",(0,s.jsx)(i.li,{children:"Fix NRE in ElementProxy"}),"\n",(0,s.jsx)(i.li,{children:"Add a runtime flag to enable interop for DataObject custom formats"}),"\n",(0,s.jsx)(i.li,{children:"Add support for reading and writing the exif MakerNote"}),"\n",(0,s.jsx)(i.li,{children:'Fix up "control is not in any visual tree"'}),"\n",(0,s.jsx)(i.li,{children:"Fix Cursors.None"}),"\n",(0,s.jsx)(i.li,{children:"Fix popup memory leak"}),"\n",(0,s.jsx)(i.li,{children:"Release mouse capture on Window deactivation."}),"\n",(0,s.jsx)(i.li,{children:"Update Avalonia.Licensing"}),"\n",(0,s.jsx)(i.li,{children:"Ensure visual root dpi is set"}),"\n",(0,s.jsx)(i.li,{children:"Fix BitmapSource 4 byte alignment"}),"\n",(0,s.jsx)(i.li,{children:"Normalize some metadata queries to lower case"}),"\n",(0,s.jsx)(i.li,{children:"Use default WPF behavior if ALC support wasn't explicitly enabled"}),"\n",(0,s.jsx)(i.li,{children:"Adjust TextLine clipping when the line isn't collapsed"}),"\n"]}),"\n",(0,s.jsx)(i.h2,{id:"xpf-130",children:"XPF 1.3.0"}),"\n",(0,s.jsxs)(i.ul,{children:["\n",(0,s.jsx)(i.li,{children:"Enable ECDSA-based license keys"}),"\n",(0,s.jsx)(i.li,{children:"Fix multiple Geometry APIs"}),"\n",(0,s.jsx)(i.li,{children:"Cache FontCollections and make them thread aware"}),"\n",(0,s.jsx)(i.li,{children:"Fix issue with geometry hit testing non-stroked segments"}),"\n",(0,s.jsx)(i.li,{children:"Update version on main to 1.3"}),"\n",(0,s.jsx)(i.li,{children:"Implement BlockUIContainer"}),"\n",(0,s.jsx)(i.li,{children:"Update Avalonia version"}),"\n",(0,s.jsx)(i.li,{children:"Fix dispatch exception handling"}),"\n",(0,s.jsx)(i.li,{children:"Support loading XPF into a separate ALC for poor man's multithreading"}),"\n",(0,s.jsx)(i.li,{children:"Fixed MUCE geometry invalidation"}),"\n",(0,s.jsx)(i.li,{children:"Fixes large image docoding"}),"\n",(0,s.jsx)(i.li,{children:"Fix inlines TextDecorations and fix BaselineAlignment"}),"\n",(0,s.jsx)(i.li,{children:"Fix TextDecorations"}),"\n",(0,s.jsx)(i.li,{children:"Fix Key Mapping on macOS"}),"\n",(0,s.jsx)(i.li,{children:"Fix GetDpiForMonitor"}),"\n",(0,s.jsx)(i.li,{children:"Implement F32MonitorHandle and use new Screens APIs"}),"\n",(0,s.jsx)(i.li,{children:"Hackfix for incorrect glyph run bounds"}),"\n",(0,s.jsx)(i.li,{children:"Don't process mouse events as touch"}),"\n",(0,s.jsx)(i.li,{children:"Call InternalClose from the externally available Window.Close method"}),"\n",(0,s.jsx)(i.li,{children:"Initial PDF generation support"}),"\n",(0,s.jsx)(i.li,{children:"Add support for corner radius in rectangle geometry"}),"\n",(0,s.jsx)(i.li,{children:"Add support for strokeless geometry segments"}),"\n",(0,s.jsx)(i.li,{children:"Update avalonia: fix win32 window shown state"}),"\n",(0,s.jsx)(i.li,{children:"Update avalonia- fix topmost owned window not working"}),"\n",(0,s.jsx)(i.li,{children:"AvaloniaHostContainer needs to set transform origin to zero instead of default 50%50%"}),"\n",(0,s.jsx)(i.li,{children:"Keep focus in avalonia host if window is reactivated"}),"\n",(0,s.jsx)(i.li,{children:"Add dummy AdjustWindowRectEx"}),"\n",(0,s.jsx)(i.li,{children:"Fix incorrectly set filename in save dialog"}),"\n",(0,s.jsx)(i.li,{children:"Fix Window.Icon"}),"\n",(0,s.jsx)(i.li,{children:'Fix "Mouse events not fired properly if another mouse button is pressed"'}),"\n",(0,s.jsx)(i.li,{children:"Manually subscribe to all of subtree visual invalidation from MuceVisualBrush"}),"\n",(0,s.jsx)(i.li,{children:"Fix headless platform, avoid Skia hardcoding"}),"\n",(0,s.jsx)(i.li,{children:"Minor patcher improvement"}),"\n",(0,s.jsx)(i.li,{children:"Add a flag to disable stackframe tweaks for devexpress"}),"\n",(0,s.jsx)(i.li,{children:"Skip rendering content if it will be clipped away anyway"}),"\n",(0,s.jsx)(i.li,{children:"Change the way we pool MuceRenderData states"}),"\n",(0,s.jsx)(i.li,{children:"Fix FontAwesome.Sharp font loading"}),"\n",(0,s.jsx)(i.li,{children:"Bump image sharp"}),"\n",(0,s.jsx)(i.li,{children:"Stub for SHGetFileInfo"}),"\n",(0,s.jsx)(i.li,{children:"Implement bitmap.copypixels"}),"\n",(0,s.jsx)(i.li,{children:"Fixed DrawingImage, hackfixed parentless VisualBrush"}),"\n",(0,s.jsx)(i.li,{children:"Publish packages from all branches"}),"\n",(0,s.jsx)(i.li,{children:"Add regex semver checking for release tags"}),"\n",(0,s.jsx)(i.li,{children:"Update dotnet.yml to trim trailing backslash on version"}),"\n",(0,s.jsx)(i.li,{children:"Update Common.props"}),"\n",(0,s.jsx)(i.li,{children:"Remove UseWinForms + misc"}),"\n",(0,s.jsx)(i.li,{children:"Disable ImportWindowsDesktopTargets"}),"\n",(0,s.jsx)(i.li,{children:"Allow the user to enable logging via msbuild property or environment variable"}),"\n",(0,s.jsx)(i.li,{children:"Add XpfSingleProject property"}),"\n",(0,s.jsx)(i.li,{children:"Update AvaloniaUI.Xpf.WinApiShim.targets"}),"\n",(0,s.jsx)(i.li,{children:"Browser compatibility improvements"}),"\n",(0,s.jsx)(i.li,{children:"Experimental WinAPI shims support for Browser"}),"\n",(0,s.jsx)(i.li,{children:"Fix browser winapi shims"}),"\n",(0,s.jsx)(i.li,{children:"Fix browser SDK"}),"\n",(0,s.jsx)(i.li,{children:"Various WinAPI shims fixes related to the Screen API"}),"\n",(0,s.jsx)(i.li,{children:"Some mono fixes"}),"\n",(0,s.jsx)(i.li,{children:"SystemInformation.MouseWheelScrollDelta support"}),"\n",(0,s.jsx)(i.li,{children:"Reset popup _positionInfo when creating a new win"}),"\n"]}),"\n",(0,s.jsx)(i.h2,{id:"xpf-120",children:"XPF 1.2.0"}),"\n",(0,s.jsxs)(i.ul,{children:["\n",(0,s.jsx)(i.li,{children:"Update ImageSharp"}),"\n",(0,s.jsx)(i.li,{children:"Make DragDrop handler work with any Control rather than TopLevel"}),"\n",(0,s.jsx)(i.li,{children:"Implement GetActiveWindow with virtual window handles"}),"\n",(0,s.jsx)(i.li,{children:"Make HwndWrapper usable"}),"\n",(0,s.jsx)(i.li,{children:"Ignore size to content from avalonia window"}),"\n",(0,s.jsx)(i.li,{children:"Patch XPF assemblies to throw on DllImport"}),"\n",(0,s.jsx)(i.li,{children:"Update GetSizeFromHwnd"}),"\n",(0,s.jsx)(i.li,{children:"Update Avalonia nuget to 11.2 alpha"}),"\n",(0,s.jsx)(i.li,{children:"Check if XpfHost is actually attached to something to decide if popup creation should be deferred"}),"\n",(0,s.jsx)(i.li,{children:"Fix for situation when ExclusivelyOwnedWindow is actually null"}),"\n",(0,s.jsx)(i.li,{children:"Port wpf popup placement logic"}),"\n",(0,s.jsx)(i.li,{children:"Keep focus in avalonia host if window is reactivated"}),"\n",(0,s.jsx)(i.li,{children:"Make snoop work in more cases"}),"\n",(0,s.jsx)(i.li,{children:"Add support for corner radius in rectangle geometry"}),"\n",(0,s.jsx)(i.li,{children:"Reset popup _positionInfo when creating a new window"}),"\n",(0,s.jsx)(i.li,{children:"Fix for Telerik's RadTooltipWindow"}),"\n",(0,s.jsx)(i.li,{children:"Read hotspot from .cur files"}),"\n",(0,s.jsx)(i.li,{children:"Skip rendering content if it will be clipped away anyway"}),"\n",(0,s.jsx)(i.li,{children:"Use absolute transform origin for WPF's Brush.Transform property"}),"\n",(0,s.jsx)(i.li,{children:"Check if window has been activated before, when checking focus"}),"\n",(0,s.jsx)(i.li,{children:"Fixed VisualBrush regression"}),"\n",(0,s.jsx)(i.li,{children:"Add default bitmap cursor for Pen cursor type"}),"\n",(0,s.jsx)(i.li,{children:"Initial support for PDF generation"}),"\n",(0,s.jsx)(i.li,{children:"Added SystemInformation.MouseWheelScrollDelta"}),"\n",(0,s.jsx)(i.li,{children:"Raise position changed when window position is set on initial state"}),"\n",(0,s.jsx)(i.li,{children:"Activate window when control gains focus"}),"\n",(0,s.jsx)(i.li,{children:"Fix bitmap encoding issues"}),"\n",(0,s.jsx)(i.li,{children:"Block input during managed dragging"}),"\n",(0,s.jsx)(i.li,{children:"Implemented BlockUIContainer"}),"\n",(0,s.jsx)(i.li,{children:"X11 - Keep track of whether window activation is complete from control focus"}),"\n",(0,s.jsx)(i.li,{children:"Fallback to setting dragpoint when position is set on linux"}),"\n",(0,s.jsx)(i.li,{children:"Stub UnhookWindowsHookEx"}),"\n",(0,s.jsx)(i.li,{children:"Various WinAPI shims fixes related to the Screen API"}),"\n",(0,s.jsx)(i.li,{children:"Map more pixel formats"}),"\n",(0,s.jsx)(i.li,{children:"Actipro docking fixes"}),"\n",(0,s.jsx)(i.li,{children:"Don't call GetCapture from ComboBox in XPF"}),"\n",(0,s.jsx)(i.li,{children:"Send MILCMD_BITMAP_INVALIDATE for WriteableBitmap.AddDirtyRect"}),"\n",(0,s.jsx)(i.li,{children:"Properly configure DPI and page size metadata for PDF documents"}),"\n",(0,s.jsx)(i.li,{children:"Don't allow resizing on maximized windows x11"}),"\n",(0,s.jsx)(i.li,{children:"ManagedWindowDragHelper - keep track of previous positions and update position when WM_MOVING is handled"}),"\n",(0,s.jsx)(i.li,{children:"MonitorFromWindow: Do not throw for non attached visual"}),"\n",(0,s.jsx)(i.li,{children:"Fix unhandled exceptions"}),"\n",(0,s.jsx)(i.li,{children:"Fix some Geometry issues"}),"\n",(0,s.jsx)(i.li,{children:"Add support for strokeless geometry segments"}),"\n",(0,s.jsx)(i.li,{children:"Add SKColorFilter free callback"}),"\n",(0,s.jsx)(i.li,{children:"Allow the user to enable logging via msbuild property or environment variable"}),"\n",(0,s.jsx)(i.li,{children:"Don't call GetCapture from MenuBase in XPF"}),"\n",(0,s.jsx)(i.li,{children:"Update PresentationCore ref for XpfSkiaExtensions"}),"\n",(0,s.jsx)(i.li,{children:"Add background setting to MessageBoxTheme.axaml"}),"\n",(0,s.jsx)(i.li,{children:"Prevent non-client input when mouse is captured"}),"\n",(0,s.jsx)(i.li,{children:"Fix screen working area for popups"}),"\n",(0,s.jsx)(i.li,{children:"Fix crash on text box paste"}),"\n",(0,s.jsx)(i.li,{children:"Fix some docking issues"}),"\n"]}),"\n",(0,s.jsx)(i.h3,{id:"known-issues",children:"Known Issues"}),"\n",(0,s.jsxs)(i.ul,{children:["\n",(0,s.jsx)(i.li,{children:"Actipro docking: when tearing off a pane, preview is not shown on macOS"}),"\n",(0,s.jsx)(i.li,{children:"DevExpress docking: does not always show drop adorners on X11"}),"\n",(0,s.jsx)(i.li,{children:"Syncfusion docking: problems on all platforms"}),"\n",(0,s.jsx)(i.li,{children:"Telerik docking: Initial drag/tear-off stops registering mouse on Windows"}),"\n"]})]})}function h(e={}){const{wrapper:i}={...(0,r.R)(),...e.components};return i?(0,s.jsx)(i,{...e,children:(0,s.jsx)(c,{...e})}):c(e)}},28453:(e,i,n)=>{n.d(i,{R:()=>o,x:()=>t});var l=n(96540);const s={},r=l.createContext(s);function o(e){const i=l.useContext(r);return l.useMemo((function(){return"function"==typeof e?e(i):{...i,...e}}),[i,e])}function t(e){let i;return i=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:o(e.components),l.createElement(r.Provider,{value:i},e.children)}}}]);