"use strict";(self.webpackChunkavalonia_docs=self.webpackChunkavalonia_docs||[]).push([[6018],{90756:(n,e,i)=>{i.r(e),i.d(e,{assets:()=>s,contentTitle:()=>r,default:()=>p,frontMatter:()=>t,metadata:()=>a,toc:()=>d});const a=JSON.parse('{"id":"embedding/avalonia-in-xpf/adding-global-style-for-avalonia-controls-in-XPF","title":"Adding global style for Avalonia controls in XPF","description":"Add Global Styles Dynamically in Code","source":"@site/xpf/embedding/avalonia-in-xpf/adding-global-style-for-avalonia-controls-in-XPF.md","sourceDirName":"embedding/avalonia-in-xpf","slug":"/embedding/avalonia-in-xpf/adding-global-style-for-avalonia-controls-in-XPF","permalink":"/xpf/embedding/avalonia-in-xpf/adding-global-style-for-avalonia-controls-in-XPF","draft":false,"unlisted":false,"editUrl":"https://github.com/AvaloniaUI/avalonia-docs/tree/main/xpf/embedding/avalonia-in-xpf/adding-global-style-for-avalonia-controls-in-XPF.md","tags":[],"version":"current","frontMatter":{"id":"adding-global-style-for-avalonia-controls-in-XPF","title":"Adding global style for Avalonia controls in XPF"},"sidebar":"documentationSidebar","previous":{"title":"Adding style to Avalonia control in XPF","permalink":"/xpf/embedding/avalonia-in-xpf/adding-style-to-avalonia-control-in-xpf"},"next":{"title":"XPF in Avalonia","permalink":"/xpf/embedding/xpf-in-avalonia"}}');var o=i(74848),l=i(28453);const t={id:"adding-global-style-for-avalonia-controls-in-XPF",title:"Adding global style for Avalonia controls in XPF"},r="Adding Global Style for Avalonia Controls in XPF",s={},d=[{value:"Add Global Styles Dynamically in Code",id:"add-global-styles-dynamically-in-code",level:2},{value:"With the redefinition of the Avalonia Application",id:"with-the-redefinition-of-the-avalonia-application",level:2}];function c(n){const e={admonition:"admonition",code:"code",h1:"h1",h2:"h2",header:"header",p:"p",pre:"pre",...(0,l.R)(),...n.components};return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(e.header,{children:(0,o.jsx)(e.h1,{id:"adding-global-style-for-avalonia-controls-in-xpf",children:"Adding Global Style for Avalonia Controls in XPF"})}),"\n",(0,o.jsx)(e.h2,{id:"add-global-styles-dynamically-in-code",children:"Add Global Styles Dynamically in Code"}),"\n",(0,o.jsx)(e.p,{children:"Adding global styles for Avalonia controls dynamically in code-behind provides flexibility and allows you to apply styles at runtime.\nUse the following C# code to achieve this:"}),"\n",(0,o.jsx)(e.pre,{children:(0,o.jsx)(e.code,{className:"language-csharp",children:' // Retrieve the current Avalonia application instance\nvar avaloniaApp = Avalonia.Controls.Application.Current;\n\n// Dynamically add a global style for Button controls\navaloniaApp.Styles.Add(new StyleInclude()\n{\n    Source = new Uri("avares://YourNamespace/Styles/CustomStyles.xaml") // Adjust the URI accordingly\n});\n'})}),"\n",(0,o.jsx)(e.p,{children:'Here, "CustomStyles.xaml" is the XAML file containing the Avalonia styles you want to apply globally.'}),"\n",(0,o.jsx)(e.h2,{id:"with-the-redefinition-of-the-avalonia-application",children:"With the redefinition of the Avalonia Application"}),"\n",(0,o.jsx)(e.p,{children:"In more advanced scenarios you may need to fully replace the styles applied by default with your custom styles and\nfor that you will need to redefine the Avalonia Application. First step would be to disable the automatic XPF initialization."}),"\n",(0,o.jsx)(e.pre,{children:(0,o.jsx)(e.code,{className:"language-xml",children:"  <PropertyGroup>\n    <DisableAutomaticXpfInit>true</DisableAutomaticXpfInit>\n  </PropertyGroup>\n"})}),"\n",(0,o.jsx)(e.p,{children:"Then you will need to create new Avalonia Application with XAML and code behind. Where in XAML you put your styles which you want to be defined globally."}),"\n",(0,o.jsx)(e.admonition,{type:"note",children:(0,o.jsxs)(e.p,{children:[(0,o.jsx)(e.code,{children:"DataGrid"})," theme is required for DevTools to work correctly."]})}),"\n",(0,o.jsx)(e.pre,{children:(0,o.jsx)(e.code,{className:"language-xml",children:' <StyleInclude Source="avares://Avalonia.Controls.DataGrid/Themes/Simple.xaml"/>\n'})}),"\n",(0,o.jsx)(e.p,{children:"After that you will need to create a separate class which will initialize Avalonia for your XPF project."}),"\n",(0,o.jsx)(e.pre,{children:(0,o.jsx)(e.code,{className:"language-csharp",children:"public class MyXpfAvaloniaInitializer\n{\n    [ModuleInitializer]\n    public static void Init()\n    {\n        if (Avalonia.Application.Current == null)\n        {\n            AppBuilder.Configure<MyApp>()\n                .UsePlatformDetect()\n                .With(new Win32PlatformOptions()\n                {\n                    // Default to System Dpi Aware. If process has a different awareness set in manifest, that value will be prioritized by the os\n                    DpiAwareness = Win32DpiAwareness.SystemDpiAware\n                })\n                .WithAvaloniaXpf()\n                .SetupWithLifetime(new ClassicDesktopStyleApplicationLifetime() { ShutdownMode = Avalonia.Controls.ShutdownMode.OnExplicitShutdown });\n        }\n    }\n}\n"})}),"\n",(0,o.jsx)(e.admonition,{type:"note",children:(0,o.jsxs)(e.p,{children:[(0,o.jsx)(e.code,{children:"ModuleInitializer"})," attribute is not mandatory here. You can initialize Avalonia by yourself anywhere but you should keep in mind that Avalonia initialization should be done before WPF initialization. That information might be useful for people who are using XPF with F#."]})}),"\n",(0,o.jsx)(e.p,{children:"And after that your styles would be applied for your whole Application."})]})}function p(n={}){const{wrapper:e}={...(0,l.R)(),...n.components};return e?(0,o.jsx)(e,{...n,children:(0,o.jsx)(c,{...n})}):c(n)}},28453:(n,e,i)=>{i.d(e,{R:()=>t,x:()=>r});var a=i(96540);const o={},l=a.createContext(o);function t(n){const e=a.useContext(l);return a.useMemo((function(){return"function"==typeof n?n(e):{...e,...n}}),[e,n])}function r(n){let e;return e=n.disableParentContext?"function"==typeof n.components?n.components(o):n.components||o:t(n.components),a.createElement(l.Provider,{value:e},n.children)}}}]);