"use strict";(self.webpackChunkavalonia_docs=self.webpackChunkavalonia_docs||[]).push([[8331],{882:(e,i,n)=>{n.r(i),n.d(i,{assets:()=>r,contentTitle:()=>l,default:()=>u,frontMatter:()=>a,metadata:()=>t,toc:()=>c});const t=JSON.parse('{"id":"guides/implementation-guides/localizing","title":"Localizing using ResX","description":"Localization is a crucial step in delivering a great user experience for a global audience. In .NET, the ResXResourceReader and ResXResourceWriter classes are used to read and write resources in an XML-based format (.resx). This guide will walk you through the process of localizing an Avalonia application using ResX files.","source":"@site/docs/guides/implementation-guides/localizing.md","sourceDirName":"guides/implementation-guides","slug":"/guides/implementation-guides/localizing","permalink":"/avalonia-docs-ko/docs/guides/implementation-guides/localizing","draft":false,"unlisted":false,"editUrl":"https://github.com/202420505/avalonia-docs-ko/tree/main/docs/guides/implementation-guides/localizing.md","tags":[],"version":"current","lastUpdatedBy":"202420505","lastUpdatedAt":1755602100000,"frontMatter":{"id":"localizing","title":"Localizing using ResX"},"sidebar":"documentationSidebar","previous":{"title":"How To Use Design-time Data","permalink":"/avalonia-docs-ko/docs/guides/implementation-guides/how-to-use-design-time-data"},"next":{"title":"How to use INotifyPropertyChanged","permalink":"/avalonia-docs-ko/docs/guides/data-binding/inotifypropertychanged"}}');var s=n(74848),o=n(28453);const a={id:"localizing",title:"Localizing using ResX"},l=void 0,r={},c=[{value:"Add ResX Files to the Project",id:"add-resx-files-to-the-project",level:2},{value:"Set the Culture",id:"set-the-culture",level:2},{value:"Use Localized Text in the View",id:"use-localized-text-in-the-view",level:2}];function d(e){const i={admonition:"admonition",code:"code",h2:"h2",li:"li",p:"p",pre:"pre",ul:"ul",...(0,o.R)(),...e.components},{GitHubSampleLink:n}=i;return n||function(e,i){throw new Error("Expected "+(i?"component":"object")+" `"+e+"` to be defined: you likely forgot to import, pass, or provide it.")}("GitHubSampleLink",!0),(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)(i.p,{children:["Localization is a crucial step in delivering a great user experience for a global audience. In .NET, the ",(0,s.jsx)(i.code,{children:"ResXResourceReader"})," and ",(0,s.jsx)(i.code,{children:"ResXResourceWriter"})," classes are used to read and write resources in an XML-based format (.resx). This guide will walk you through the process of localizing an Avalonia application using ResX files."]}),"\n",(0,s.jsx)(n,{title:"Localization",link:"https://github.com/AvaloniaUI/AvaloniaUI.QuickGuides/tree/main/Localization/"}),"\n",(0,s.jsx)(i.h2,{id:"add-resx-files-to-the-project",children:"Add ResX Files to the Project"}),"\n",(0,s.jsx)(i.p,{children:"Before localizing, you need to include ResX files for each language you want to support. For this guide, we'll consider three ResX files, one for each of the following cultures:"}),"\n",(0,s.jsxs)(i.ul,{children:["\n",(0,s.jsxs)(i.li,{children:[(0,s.jsx)(i.code,{children:"Resources.fil-PH.resx"})," (Filipino)"]}),"\n",(0,s.jsxs)(i.li,{children:[(0,s.jsx)(i.code,{children:"Resources.ja-JP.resx"})," (Japanese)"]}),"\n",(0,s.jsxs)(i.li,{children:[(0,s.jsx)(i.code,{children:"Resources.resx"})," (Default language, usually English)"]}),"\n"]}),"\n",(0,s.jsx)(i.p,{children:"Each ResX file will contain translated text that corresponds to the keys used in the application."}),"\n",(0,s.jsxs)(i.p,{children:["In this example, we added new files to a new folder called ",(0,s.jsx)(i.code,{children:"Lang"}),". Since .NET generator creates namespaces depending on folder structure, it might be different for you."]}),"\n",(0,s.jsx)(i.admonition,{type:"warning",children:(0,s.jsxs)(i.p,{children:["If you add the files into the ",(0,s.jsx)(i.code,{children:"Assets"})," folder make sure to switch ",(0,s.jsx)(i.code,{children:"Build Action"})," to ",(0,s.jsx)(i.code,{children:"Embedded resource"}),", otherwise the code generation may fail."]})}),"\n",(0,s.jsx)(i.h2,{id:"set-the-culture",children:"Set the Culture"}),"\n",(0,s.jsxs)(i.p,{children:["To use a specific language in the application, you need to set the current culture. This can be done in the ",(0,s.jsx)(i.code,{children:"App.axaml.cs"})," file. The following example sets the culture to Filipino (",(0,s.jsx)(i.code,{children:"fil-PH"}),"):"]}),"\n",(0,s.jsx)(i.pre,{children:(0,s.jsx)(i.code,{className:"language-cs",metastring:'title="App.xaml.cs"',children:'public partial class App : Application\n{\n    public override void Initialize()\n    {\n        AvaloniaXamlLoader.Load(this);\n    }\n\n    public override void OnFrameworkInitializationCompleted()\n    {\n        // highlight-start\n        Lang.Resources.Culture = new CultureInfo("fil-PH");\n        // highlight-end\n        if (ApplicationLifetime is IClassicDesktopStyleApplicationLifetime desktop)\n        {\n            desktop.MainWindow = new MainWindow\n            {\n                DataContext = new MainWindowViewModel(),\n            };\n        }\n\n        base.OnFrameworkInitializationCompleted();\n    }\n}\n'})}),"\n",(0,s.jsx)(i.p,{children:'Replace "fil-PH" with the appropriate culture code as required.'}),"\n",(0,s.jsx)(i.h2,{id:"use-localized-text-in-the-view",children:"Use Localized Text in the View"}),"\n",(0,s.jsx)(i.p,{children:"To use the localized text in a view, you can refer to the resources statically in XAML:"}),"\n",(0,s.jsx)(i.pre,{children:(0,s.jsx)(i.code,{className:"language-xml",children:'<TextBlock Text="{x:Static lang:Resources.GreetingText}"/>\n'})}),"\n",(0,s.jsxs)(i.p,{children:["In the above example, ",(0,s.jsx)(i.code,{children:"GreetingText"})," is the key that corresponds to a string in the ResX file. The ",(0,s.jsx)(i.code,{children:"{x:Static}"})," markup extension is used to reference a static property that's been defined in a .NET class, which, in this case, is the resources file (",(0,s.jsx)(i.code,{children:"lang:Resources.GreetingText"}),")."]}),"\n",(0,s.jsx)(i.p,{children:"That's it! You've now successfully localized your Avalonia application using ResX. By setting the culture to a different locale, you can display the user interface in the selected language, thereby creating an application that supports multiple languages and caters to a global audience."}),"\n",(0,s.jsxs)(i.admonition,{type:"warning",children:[(0,s.jsxs)(i.p,{children:["For the localized properties to be available from XAML, the code generated from the resource file must be publicly accessible. By default, the ",(0,s.jsx)(i.code,{children:"Resources"})," class is generated by ",(0,s.jsx)(i.code,{children:"ResXFileCodeGenerator"})," and is ",(0,s.jsx)(i.code,{children:"internal"}),". Make sure to change the custom tool to ",(0,s.jsx)(i.code,{children:"PublicResXFileCodeGenerator"}),". The relevant part of the ",(0,s.jsx)(i.code,{children:"csproj"})," should look like this:"]}),(0,s.jsx)(i.pre,{children:(0,s.jsx)(i.code,{className:"language-xml",children:'<ItemGroup>\n  <EmbeddedResource Update="Resources.resx">\n    <Generator>PublicResXFileCodeGenerator</Generator>\n    <LastGenOutput>Resources.Designer.cs</LastGenOutput>\n  </EmbeddedResource>\n</ItemGroup>\n\n<ItemGroup>\n  <Compile Update="Resources.Designer.cs">\n    <DesignTime>True</DesignTime>\n    <AutoGen>True</AutoGen>\n    <DependentUpon>Resources.resx</DependentUpon>\n  </Compile>\n</ItemGroup>\n'})}),(0,s.jsxs)(i.p,{children:["NB: also note that only the default resource file (",(0,s.jsx)(i.code,{children:"Resources.resx"}),") should generate code."]})]})]})}function u(e={}){const{wrapper:i}={...(0,o.R)(),...e.components};return i?(0,s.jsx)(i,{...e,children:(0,s.jsx)(d,{...e})}):d(e)}},28453:(e,i,n)=>{n.d(i,{R:()=>a,x:()=>l});var t=n(96540);const s={},o=t.createContext(s);function a(e){const i=t.useContext(o);return t.useMemo((function(){return"function"==typeof e?e(i):{...i,...e}}),[i,e])}function l(e){let i;return i=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:a(e.components),t.createElement(o.Provider,{value:i},e.children)}}}]);